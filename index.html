<!DOCTYPE html>
<html>
<head>
  <title>Welcome to Vue</title>
  <script src="https://unpkg.com/vue"></script>
  <style>
    .insideList {
      padding: 10px 20px;
      border: solid 2px;
      margin: 20px;
      width: 12%;
      height: 100%;
    }
    .allLists {
      display: flex;
      flex-direction: row;
    }
  </style>
</head>
<body>
  <div id="app">
    <button @click="addNewBoard">+</button>
    <div class="allLists">
      <list v-for="(res, index) in listData" :text="res" :ind="index" :key="index">
      </list> 
    </div>
  </div>
  <script>
    let Card = {
          props: ['val'],
          template: `
          <div class="card">
            <p v-text="val"></p>
          </div>
          `
        }
    let List = {
      props: ['text', 'ind'],
      template: `
      <div class="insideList">
        <p v-text="text.listTitle"></p>
        <button @click="addNewCard(ind, text)">+</button>
        <card v-for="(val, index) in text.cards" :val="val" :key="index"></card>
      </div>
      `,
      components: {
        'card': Card  
      },
      methods: {
        addNewCard (index, listData) {
          listData.cards.push(`What's the card for?`)
        }
      }
    }
    
    new Vue({
      el: '#app',
      data () {
        return {
          listData: [],
        }
      },
      components: {
        'list': List,
      },
      methods: {
        addNewBoard () {
          this.listData.push({
            listTitle: `What's the board for?`,
            cards: []
          })
        }
      }
    })
  </script>
</body>
</html>
